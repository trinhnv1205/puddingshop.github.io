@page "/personal"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation

<PageTitle>Personal Page</PageTitle>

<AuthorizeView>
    <Authorized>
        <h1>Welcome, @context.User.Identity?.Name!</h1>
        <p>This is your personal page.</p>
    </Authorized>
    <NotAuthorized>
        <p>You are not authorized to view this page. Please <FluentButton Appearance="Appearance.Accent" @onclick="NavigateToLogin">log in</FluentButton>.</p>
    </NotAuthorized>
</AuthorizeView>

@code {
    private AuthenticationState context;

    private void NavigateToLogin()
    {
        Navigation.NavigateTo("authentication/login");
    }
}